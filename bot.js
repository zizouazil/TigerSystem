const Discord = require('discord.js');
const client = new Discord.Client();
 const prefix = ".";
client.on('ready', () => {
    console.log('I am ready!');
});

client.on('message', message => {
    if (message.content === 'ping') {
        message.reply('pong');
      }
});

lient.on('ready', () => {
   console.log(`----------------`);
      console.log(`Desert Bot- Script By : SOKA`);
        console.log(`----------------`);
      console.log(`ON ${client.guilds.size} Servers '     Script By : SOKA' `);
    console.log(`----------------`);
  console.log(`Logged in as ${client.user.tag}!`);
client.user.setGame(`TIGER SYSTEM | Mr.SOKA`,"http://twitch.tv/S-F")
client.user.setStatus("dnd")
});

client.on('message',async message => {       
        var prefix = ".."
  if(message.content.startsWith(prefix + "bc")) {
    let filter = m => m.author.id === message.author.id;
    let thisMessage;
    let thisFalse;
    message.channel.send(':regional_indicator_b::regional_indicator_c:| **Ø§Ø±Ø³Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø§Ù†**').then(msg => {

    let awaitM = message.channel.awaitMessages(filter, {
      max: 1,
      time: 20000,
      errors: ['time']
    })
    .then(collected => {
      collected.first().delete();
      thisMessage = collected.first().content;
      msg.edit(':regional_indicator_b::regional_indicator_c:| **Ù‡Ù„ Ø§Ù†Øª Ù…ØªØ£ÙƒØ¯ØŸ**');
      let awaitY = message.channel.awaitMessages(response => response.content === 'Ù†Ø¹Ù…' || 'Ù„Ø§' && filter,{
        max: 1,
        time: 20000,
        errors: ['time']
      })
      .then(collected => {
        if(collected.first().content === 'Ù„Ø§') {
          msg.delete();
          message.delete();
          thisFalse = false;
        }
        if(collected.first().content === 'Ù†Ø¹Ù…') {
          if(thisFalse === false) return;
        message.guild.members.forEach(member => {
          msg.edit(':regional_indicator_b::regional_indicator_c:| **Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø±Ø³Ø§Ù„**');
          collected.first().delete();
          member.send(`${thisMessage}\n\n${member} ,\nØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„ Ù…Ù† : ${message.guild.name}\n ØªÙ… Ø§Ù„Ø§Ø±Ø³Ø§Ù„ Ø¨ÙˆØ§Ø³Ø·Ø© : ${message.author.tag}`);
        });
        }
      });
    });
    });
  }
});

client.on('message', message => {
        var prefix = ".."
    if(message.content.startsWith(prefix + 'move all')) {
     if (!message.member.hasPermission("MOVE_MEMBERS")) return message.channel.send('**Ù„Ø§ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ© Ø³Ø­Ø¨ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡**');
       if(!message.guild.member(client.user).hasPermission("MOVE_MEMBERS")) return message.reply("**Ù„Ø§ÙŠÙˆØ¬Ø¯ Ù„Ø¯ÙŠ ØµÙ„Ø§Ø­ÙŠØ© Ø§Ù„Ø³Ø­Ø¨**");
    if (message.member.voiceChannel == null) return message.channel.send(`**Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø±ÙˆÙ… ØµÙˆØªÙŠ**`)
     var author = message.member.voiceChannelID;
     var m = message.guild.members.filter(m=>m.voiceChannel)
     message.guild.members.filter(m=>m.voiceChannel).forEach(m => {
     m.setVoiceChannel(author)
     })
     message.channel.send(`**ØªÙ… Ø³Ø­Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙŠ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„ØµÙˆØªÙŠ Ø­Ù‚Ùƒ.**`)


     }
       });


client.on('message', message => {
    const prefix = '..'
    let args = message.content.split(" ").slice(1);
    if (message.author.bot) return;
    if (!message.channel.guild) return;
    if (message.content.startsWith(prefix + 'clear')) {

        if (isNaN(args[0])) return message.channel.send('**Please supply a valid amount of messages to purge**');
        if (args[0] > 100) return message.channel.send('**Please supply a number less than 100**');

        message.channel.bulkDelete(args[0])
            .then(messages => message.channel.send(`**Successfully deleted \`${messages.size}/${args[0]}\` messages**`).then(msg => msg.delete({
                timeout: 5000
            })))
    }
});

client.on('message', message => {
    const prefix = '..'
if(!message.channel.guild) return;
if(message.content.startsWith(prefix + 'move')) {
 if (message.member.hasPermission("MOVE_MEMBERS")) {
 if (message.mentions.users.size === 0) {
 return message.channel.send("``Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ù…Ø± Ø§ÙƒØªØ¨ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù…Ø± : " +prefix+ "move [USER]``")
}
if (message.member.voiceChannel != null) {
 if (message.mentions.members.first().voiceChannel != null) {
 var authorchannel = message.member.voiceChannelID;
 var usermentioned = message.mentions.members.first().id;
var embed = new Discord.RichEmbed()
 .setTitle("Succes!")
 .setColor("#000000")
 .setDescription(`Ù„Ù‚Ø¯ Ù‚Ù…Øª Ø¨Ø³Ø­Ø¨ <@${usermentioned}> Ø§Ù„Ù‰ Ø§Ù„Ø±ÙˆÙ… Ø§Ù„ØµÙˆØªÙŠ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ:white_check_mark: `)
var embed = new Discord.RichEmbed()
.setTitle(`You are Moved in ${message.guild.name}`)
 .setColor("#000000")
.setDescription(`<@${message.author.id}> moved you to his channel!\nServer => ${message.guild.name}`)
 message.guild.members.get(usermentioned).setVoiceChannel(authorchannel).then(m => message.channel.send(embed))
message.guild.members.get(usermentioned).send(embed)
} else {
message.channel.send("``Ù„Ø§ ØªØ³ØªØ·ÙŠØ¹ Ø³Ø­Ø¨ "+ message.mentions.members.first() +" `ÙŠØ¬Ø¨ Ø§Ù† ÙŠÙƒÙˆÙ† Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ø¶Ùˆ ÙÙŠ Ø±ÙˆÙ… ØµÙˆØªÙŠ`")
}
} else {
 message.channel.send("``ÙŠØ¬Ø¨ Ø§Ù† ØªÙƒÙˆÙ† ÙÙŠ Ø±ÙˆÙ… ØµÙˆØªÙŠ Ù„ÙƒÙŠ ØªÙ‚ÙˆÙ… Ø¨Ø³Ø­Ø¨ Ø§Ù„Ø¹Ø¶Ùˆ Ø£Ù„ÙŠÙƒ``")
}
} else {
message.react("âŒ")
 }}});

client.on('guildMemberRemove', member => {
let channel = member.guild.channels.find('name', 'welcome');
let memberavatar = member.user.avatarURL
  if (!channel) return; 
let embed = new Discord.RichEmbed()
    .setColor('RANDOM')
    .setThumbnail(memberavatar)
    .addField('ğŸ½ | Ø§Ù„Ø§Ø³Ù… :  ',`${member}`)
    .addField('ğŸ“¢ | Ù„Ù‚Ø¯ ØºØ§Ø¯Ø±:' , `Ù„Ù‚Ø¯ Ø®Ø±Ø¬ Ù…Ù†Ø§ Ø¹Ø¶Ùˆ Ù‡Ùˆ , ${member}:cry: `)
    .addField('ğŸ†” | Ø§Ù„Ø§ÙŠØ¯ÙŠ :', "**[" + `${member.id}` + "]**" )
            .addField('â¡| ØªØ¨Ù‚Ø§',`${member.guild.memberCount}`)
           
              .addField("Ø§Ù„Ø§Ø³Ù…:",`<@` + `${member.id}` + `>`, true)
                
                                 .addField('Ø´ÙƒØ±Ø§ Ù„Ø¯Ø®ÙˆÙ„Ùƒ Ø³ÙŠØ±ÙØ±', `${member.guild.name}`,true)
                                   
 .setFooter("Top Bot")
    .setTimestamp()

  channel.sendEmbed(embed);
});

client.on('guildMemberAdd', member => {
    let channel = member.guild.channels.find('name', 'welcome');
    let memberavatar = member.user.avatarURL
      if (!channel) return;
    let embed = new Discord.RichEmbed()
        .setColor('RANDOM')
        .setThumbnail(memberavatar)
        .addField('ğŸ½ | name :  ',`${member}`)
        .addField('ğŸ“¢ | Ù†ÙˆØ±Øª Ø§Ù„Ø³ÙŠØ±ÙØ± ÙŠØ§ Ù‚Ù„Ø¨ÙŠ' , `Welcome to the server, ${member}`)
        .addField('ğŸ†” | user :', "**[" + `${member.id}` + "]**" )
                .addField('â¡| Ø§Ù†Øª Ø§Ù„Ø¹Ø¶Ùˆ Ø±Ù‚Ù…',`${member.guild.memberCount}`)
               
                  .addField("Name:",`<@` + `${member.id}` + `>`, true)
                     
                                     .addField(' Ø§Ù„Ù€Ø³ÙŠØ±ÙØ±', `${member.guild.name}`,true)
                                       
     .setFooter(`${member.guild.name}`)
        .setTimestamp()
   
      channel.sendEmbed(embed);
    });
    
    client.on('guildMemberRemove', member => {
        var embed = new Discord.RichEmbed()
        .setAuthor(member.user.username, member.user.avatarURL)
        .setThumbnail(member.user.avatarURL)
        .setTitle(`Ø§Ù„Ù„Ù‡ Ù…Ø¹Ø§Ùƒ âœ‹:skin-tone-1: ğŸ˜”`)
        .setDescription(`Ù…Ø¹ Ø§Ù„Ø³Ù„Ø§Ù…Ù‡ ØªØ´Ø±ÙÙ†Ø§ Ø¨Ùƒ âœ‹:skin-tone-1: ğŸ˜” `)
        .addField('ğŸ‘¤   ØªØ¨Ù‚ÙŠ',`**[ ${member.guild.memberCount} ]**`,true)
        .setColor('RED')
        .setFooter(`==== Ù†Ù€Ù€ØªÙ€Ù€Ù…Ù€Ù€Ù†Ù€Ù€Ø¢ Ù„Ù€Ù€ÙƒÙ€Ù€Ù… Ø¢Ø³Ù€Ù€ØªÙ€Ù€Ù…Ù€Ù€Ù€ØªÙ€Ù€Ø¢Ø¹ ====`, 'https://cdn.discordapp.com/attachments/397818254439219217/399292026782351381/shy.png')
    
    var channel =member.guild.channels.find('name', 'welcome')
    if (!channel) return;
    channel.send({embed : embed});
    });


client.on('message', message => {
    if (message.content.startsWith("..Ø±Ø§Ø¨Ø·")) {

  message.channel.createInvite({
        thing: true,
        maxUses: 100,
        maxAge: 86400
    }).then(invite =>
      message.author.sendMessage(invite.url)
    )
    const embed = new Discord.RichEmbed()
        .setColor("RANDOM")
        .setDescription("| :white_check_mark:  | :heart:  ØªÙ… Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø§Øµ  ")
      message.channel.sendEmbed(embed).then(message => {message.delete(10000)})
              const Embed11 = new Discord.RichEmbed()
        .setColor("RANDOM")
                .setAuthor(message.guild.name, message.guild.iconURL)
        .setDescription(`
**
---------------------
-[${message.guild.name}]  Ù‡Ø°Ø§ Ù‡Ùˆ Ø±Ø§Ø¨Ø· Ø³ÙŠØ±ÙØ±
---------------------
-Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· ØµØ§Ù„Ø­ Ù„ 100 Ù…Ø³ØªØ®Ø¯Ù… ÙÙ‚Ø·
---------------------
-Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø· ØµØ§Ù„Ø­ Ù„Ù…Ø¯Ù‡ 24 Ø³Ø§Ø¹Ù‡ ÙÙ‚Ø·
---------------------
**`)
      message.author.sendEmbed(Embed11)
    }
});


client.on('message', message=> {
    if (message.author.bot) return;
    if (message.isMentioned(client.user))
    {
    message.reply(" Ù†Ø¹Ù… ÙŠØ¹Ø³Ù„ !!");
    }
});

client.on('message', function(message) {
    if (message.content == "..clear ultra") {
        if (message.member.hasPermission("MANAGE_MESSAGES")) {
            message.channel.fetchMessages()
               .then(function(list){
                    message.channel.bulkDelete(list);
                }, function(err){message.channel.send("ERROR: ERROR CLEARING CHANNEL.")})
        }
    }

});


client.on("message", message => {
var prefix = "..";
    if (message.content === (prefix + "help")) {
     const embed = new Discord.RichEmbed() 
         .setColor("#580e6b")
         .setThumbnail(message.author.avatarURL)
         .setDescription(`

à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»
           
        BOT By: | by Mr.SOKA

à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»

          General Commands
   
 
   ã€..bc    â– Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª Ù„Ù„Ø³Ø±ÙØ±ã€
   ã€..move all   â– Ø³Ø­Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù‰ Ø±ÙˆÙ…Ùƒã€
   
   ã€..move    â– Ø³Ø­Ø¨ Ø¹Ø¶Ùˆã€
   
   ã€..clear   â–  Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª Ø¨Ø¹Ø¯Ø¯ã€
  
   
   
  
   
  
   
           Administrative Commands
   
 
 

   ã€:beginner:  Ø§Ù„Ø¨ÙˆØª ØªØ­Øª Ø§Ù„ØªØ·ÙˆÙŠØ± :beginner: ã€

à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»à¼ºâ–‡à¼»


  BOT By: | Mr.SOKA





`)
   message.author.sendEmbed(embed)
   
   }
   });  
client.on('message', message => {
var prefix = "..";
     if (message.content === (prefix + "help")) {
     let embed = new Discord.RichEmbed()
  .setAuthor(message.author.username)
  .setColor("#8650a7")
  .addField("Done" , " ØªÙ€Ù€Ù€Ù€Ù… Ø§Ø±Ø³Ù€Ù€Ø§Ù„Ùƒ ÙÙŠ Ø§Ù„Ø®Ù€Ù€Ø§Øµ")
  message.channel.sendEmbed(embed);
    }
});



client.login(process.env.BOT_TOKEN);
